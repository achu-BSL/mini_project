<%- include("../include/_header.ejs")%>
    <div class="container-fluid p-0 min-vh-100" style="margin-top: 6%;">
        <%-include('../include/navbar.ejs') %>
            <div class="container" >
                <div class="row p-4 mb-4">
                    <div class="container col-lg-3 col-md-3 col-12 p-3 m-0">
                        <div class="container bg-white profile_left p-5">
                            <div class="mb-4 d-flex flex-column">
                                <h6>Manage My Account</h6>
                                <a href="#" class="text-decoration-none text-danger">My Profile</a>
                            </div>
                            <div class="mb-4 d-flex flex-column">
                                <h6>My Orders</h6>
                                <a href="/profile/order" class="text-decoration-none">My Orders</a>   
                                <a href="/profile/orderReturn" class="text-decoration-none">My Return</a>
                            </div>
                            <div class="mb-4 d-flex flex-column">
                                <h6>My Address</h6>
                                <a href="/api/profile/address" class="text-decoration-none">My Address</a>
                            </div>
                        </div>
                    </div>
                    <div class="container col-lg-9 col-md-9 col-12 py-3 p-0 m-0">
                        <div class="container-fluid bg-white profile_Right p-4">
                            <div class="propic d-flex align-items-center gap-4 px-5">
                                <img src="/assets/admin/propic.webp" alt="" class="img-fluid">
                                <div class="flex-column">
                                    <h3 class="top-name"><%=userData.username%></h3>
                                    <p class="p-0 m-0">Email : <span class="top-email"><%=userData.email%></span></p>
                                </div>
                            </div>

                            <form id="form" action="" method="post">
                                <div class="conatiner profile_info p-3 mt-3">
                                    <div class="container px-5 pt-4">
                                        <h6 class="text-danger">Edit Your Profile</h6>
                                    </div>
                                        <h6 class="text-success px-5"><%=locals.success?success:""%></h6>
                                    <div class="row d-flex px-5 mt-3 profile_form">
                                        <div class="d-flex flex-column col-lg-6 ">
                                            <label for="" class="py-1">Name</label>
                                            <input id="username" type="text" name="username" value="<%=userData.username%>" style="font-size: 13px; color: #939393;">
                                            <p class="err text-danger"></p>
                                        </div>
                                        <div class="d-flex flex-column col-lg-6 ">
                                            <label for="" class="py-1">Email</label>
                                            <input type="email" name="email" id="email" value="<%=userData.email%>" style="font-size: 13px; color: #939393;">
                                            <div class="otp-btn-container pt-3">
                                                <button type="button" id="send-otp-btn" class="btn btn-sm btn-outline-dark d-none">send OTP</button>
                                                <!-- <button type="button" id="verify-otp-btn" class="btn btn-sm btn-dark" disabled>verify OTP</button> -->
                                                <div id="verify-otp-container" class="pt-3 d-none">
                                                    <input type="text" name="verify-otp-inp" id="verify-otp-inp">
                                                    <button type="button" id="verify-otp-btn" class="btn btn-sm btn-dark">verify</button>
                                                    <p class="err"></p>
                                                </div>
                                            </div>
                                            <p class="err text-danger"></p>
                                        </div>
                                    </div>
                                    <!-- <div class="row d-flex px-5 mt-3 profile_form">
                                        <div class="d-flex flex-column col-lg-6 ">
                                            <label for="" class="py-1">Phone Number</label>
                                            <input type="number" id="number" name="number" value="<%=userData.number%>" style="font-size: 13px; color: #939393;">
                                        </div>
                                    </div> -->
                                    <div class="row d-flex px-5 mt-3 profile_form">
                                        <div class="d-flex flex-column">
                                            <label for="" class="py-1">Password</label>
                                            <label for="" class="text-danger"><%= locals.error?error:""%></label>
                                            <div class="input-control">
                                                <input id="password" name="password" type="password" class="mb-3" placeholder="Current Password" >
                                                <p class="err"></p>
                                            </div>
                                            <div class="input-control">
                                                <input id="new-password" name="password1" type="" class="mb-3" placeholder="New Password">
                                                <p class="err"></p>
                                            </div>
                                            <div class="input-control">
                                                <input id="new-confirm-password" name="password2" type="" class="mb-3" placeholder="Conform New Password">
                                                <p class="err"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row px-5 my-3 pb-3 profile_button align-items-center">
                                        <button class="btn btn-danger col-lg-6 col-md-6 col-12 ms-3" style="border-radius: 14px; font-size: 13.5px;">
                                            Save Changes
                                        </button>
                                        <p id="err-display" class="err"></p>
                                        <a href="" class="text-decoration-none text-dark col-lg-6 col-md-6 col-12 p-3"
                                            style="font-size: 14px; font-weight: 500; padding-left: 2%;">Cancel</a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <script type="module" src="/js/user/profile.mjs"></script>
    <%-include('../include/_footer.ejs') %>